<!DOCTYPE html>
<html>
  <head> <title> Simon Says...</title>
    <script>
    function init() {
      //Find our div containers in the DOM
      var dataContainerOrientation = document.getElementById('dataContainerOrientation');
      var dataContainerMotion = document.getElementById('dataContainerMotion');

      //Check for support for DeviceOrientation event
      if(window.DeviceOrientationEvent) {
        window.addEventListener('deviceorientation', function(event) {
                var alpha = Math.round(event.alpha);
                var beta = Math.round(event.beta);
                var gamma = Math.round(event.gamma);
                var halfway = 0;

                if(alpha!=null || beta!=null || gamma!=null)
                  dataContainerOrientation.innerHTML = 'alpha: ' + alpha + '<br/>beta: ' + beta + '<br />gamma: ' + gamma;

              if (halfway==0 && beta > 65 && beta <115){
                positionInfo.innerHTML = '<h2 style="color:blue"><b><i>Good, Now rotate left</i></b></h2>';
                halfway = 1;
              }
              if (halfway==1 && alpha >65 && alpha < 95){
                positionInfo.innerHTML = '<h2 style="color:green"><b><i>Awesome, You did it</i></b></h2>';

              }
              }, false);


      }

      // Check for support for DeviceMotion events
      if(window.DeviceMotionEvent) {
      window.addEventListener('devicemotion', function(event) {
                var x = event.accelerationIncludingGravity.x;
                var y = event.accelerationIncludingGravity.y;
                var z = event.accelerationIncludingGravity.z;
                var r = event.rotationRate;
                // var html = 'Acceleration:<br />';
                // html += 'x: ' + x +'<br />y: ' + y + '<br/>z: ' + z+ '<br />';
                // html += 'Rotation rate:<br />';
                // if(r!=null) html += 'alpha: ' + r.alpha +'<br />beta: ' + r.beta + '<br/>gamma: ' + r.gamma + '<br />';
                // dataContainerMotion.innerHTML = html;
              });
      }
    }
    </script>
  </head>
  <body onload="init()" >
    <p align ="center"><h1> Simon Says ... </h1><br>
      <h2>Turn left </h2>
    </p>

    <div id="dataContainerOrientation">
      No device orientation data
    </div>
    <div id="dataContainerMotion">

    </div>
    <br>
    <div id = "positionInfo">
      <b><i> Keep mobile vertical and rotate left </i></b>
    </div>
    <br>
    <form>
    <input type="button" onClick = "history.go(0)">Reset Game</A>
    </form>
  </body>
</html>
