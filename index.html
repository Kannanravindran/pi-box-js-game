<!DOCTYPE html>
<html>
  <head> <title> Simon Says...</title>
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script>
    function init() {
      //Find our div containers in the DOM
      var dataContainerOrientation = document.getElementById('dataContainerOrientation');
      var dataContainerMotion = document.getElementById('dataContainerMotion');
      var halfway = 0;
      var alpha;
      var beta;
      var gamma;
      //Check for support for DeviceOrientation event
      if(window.DeviceOrientationEvent) {
        window.addEventListener('deviceorientation', function(event) {
                alpha = Math.round(event.alpha);
                beta = Math.round(event.beta);
                gamma = Math.round(event.gamma);
                if(alpha!=null || beta!=null || gamma!=null)
                  dataContainerOrientation.innerHTML = 'alpha: ' + alpha + '<br/>beta: ' + beta + '<br />gamma: ' + gamma;
              rotateleft();

              }, false);
      }
      // Check for support for DeviceMotion events
      if(window.DeviceMotionEvent) {
      window.addEventListener('devicemotion', function(event) {
                var x = event.accelerationIncludingGravity.x;
                var y = event.accelerationIncludingGravity.y;
                var z = event.accelerationIncludingGravity.z;
                var r = event.rotationRate;
                // var html = 'Acceleration:<br />';
                // html += 'x: ' + x +'<br />y: ' + y + '<br/>z: ' + z+ '<br />';
                // html += 'Rotation rate:<br />';
                // if(r!=null) html += 'alpha: ' + r.alpha +'<br />beta: ' + r.beta + '<br/>gamma: ' + r.gamma + '<br />';
                // dataContainerMotion.innerHTML = html;
              });
      }

      function rotateleft(){
        if (halfway==0 && beta > 65 && beta <115){
                positionInfo.innerHTML = '<h2 style="color:blue"><b><i>Good, Now rotate left</i></b></h2>';
                halfway = 1;
                var alpha_halfway = alpha;
              }
              if (halfway==1 && alpha >65 && alpha < 120){
                positionInfo.innerHTML = '<h2 style="color:green"><b><i>Awesome, You did it</i></b></h2>';
              }
      }

    }
    </script>
  </head>
  <body onload="init()" >
    <p align ="center"><h1> Simon Says ... </h1><br>
      <button class="btn btn-primary dropdown-toggle" id="menu1" type="button" data-toggle="dropdown">Select game mode
    <span class="caret"></span></button>
    <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
      <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Turn Left</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Turn right</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Flip Up</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Flip Down</a></li>  
    </ul>
    </p>
    <script>
      $(document).ready(function(){
      $(".dropdown-toggle").dropdown("toggle");
      });
    </script>

    <div id="dataContainerOrientation">
      No device orientation data
    </div>
    <div id="dataContainerMotion">

    </div>
    <br>
    <div id = "positionInfo">
      <b><i> Keep mobile vertical and rotate left </i></b>
    </div>
    <br>
    <form>
    <input type="button" onClick = "history.go(0)" value="Reset Game">
    </form>
  </body>
</html>