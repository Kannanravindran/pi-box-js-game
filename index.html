<!DOCTYPE html>
<html>
  <head> <title> Simon Says...</title>
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <script>
    function init() {
      //Find our div containers in the DOM
      var dataContainerOrientation = document.getElementById('dataContainerOrientation');
      var dataContainerMotion = document.getElementById('dataContainerMotion');
      var halfway = 0;
      var alpha;
      var beta;
      var gamma;
      var option= document.getElementById('commandlist');
      dataContainerMotion.innerHTML = option.value;
      // rotateleft();
      //Check for support for DeviceOrientation event
      
      if(window.DeviceOrientationEvent) {
        window.addEventListener('deviceorientation', function(event) {
                alpha = Math.round(event.alpha);
                beta = Math.round(event.beta);
                gamma = Math.round(event.gamma);
                if(alpha!=null || beta!=null || gamma!=null)
                  dataContainerOrientation.innerHTML = 'alpha: ' + alpha + '<br/>beta: ' + beta + '<br />gamma: ' + gamma;
                if ( option == "Turn Left")
                  rotateleft();
              }, false);
      }

      
      function rotateleft(){
        // if(window.DeviceOrientationEvent) {
        // window.addEventListener('deviceorientation', function(event) {
        //         alpha = Math.round(event.alpha);
        //         beta = Math.round(event.beta);
        //         gamma = Math.round(event.gamma);
        //         if(alpha!=null || beta!=null || gamma!=null)
        //           dataContainerOrientation.innerHTML = 'alpha: ' + alpha + '<br/>beta: ' + beta + '<br />gamma: ' + gamma;
                  if (halfway==0 && beta > 65 && beta <115){
                positionInfo.innerHTML = '<h2 style="color:blue"><b><i>Good, Now rotate left</i></b></h2>';
                halfway = 1;
                var alpha_halfway = alpha;
              }
              if (halfway==1 && alpha >65 && alpha < 120){
                positionInfo.innerHTML = '<h2 style="color:green"><b><i>Awesome, You did it</i></b></h2>';
              }
              // }, false);
      }

    }
    </script>
  </head>
  <body onload="init()" >
    <p align ="center"><h1> Simon Says ... </h1><br>
    <h3><select name="commandlist">
      <option value="volvo">Turn Left</option>
      <option value="saab">Turn Right</option>
      <option value="opel">Turn up</option>
      <option value="audi">Turn Down</option>
    </select></h3>
    </p>
    

    <div id="dataContainerOrientation">
      No device orientation data
    </div>
    <div id="dataContainerMotion">

    </div>
    <br>
    <div id = "positionInfo">
      <h2 style="color:black"><b><i>Keep the device vertical, then rotate left</i></b></h2>
    </div>
    <br>
    <form>
    <h2><input type="button" onClick = "history.go(0)" value="Reset Game"></h2>
    </form>
  </body>
</html>